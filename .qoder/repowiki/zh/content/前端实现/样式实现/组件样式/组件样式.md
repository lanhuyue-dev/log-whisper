# 组件样式

<cite>
**Referenced Files in This Document**   
- [style.css](file://src/style.css)
- [main.js](file://src/main.js)
</cite>

## 目录
1. [日志行(.log-line)样式](#日志行log-line样式)
2. [渲染块(.rendered-block)及其子类型样式](#渲染块rendered-block及其子类型样式)
3. [块头部(.block-header)样式](#块头部block-header样式)
4. [操作按钮(.copy-btn)样式](#操作按钮copy-btn样式)
5. [组件间设计一致性原则](#组件间设计一致性原则)
6. [BEM命名规范应用](#bem命名规范应用)
7. [样式与JavaScript逻辑协作](#样式与javascript逻辑协作)

## 日志行(.log-line)样式

日志行(.log-line)作为日志展示的基础单元，采用简洁的视觉设计。其主要特征包括左侧3px宽的彩色边框，用于标识日志级别，以及透明的背景色。通过CSS变量系统，不同级别的日志（error、warning、info、debug）会应用不同的边框颜色和背景色。

在交互方面，当用户鼠标悬停时，日志行会应用`--bg-hover`背景色，并通过`transition: all 0.2s ease`实现平滑的过渡效果，提供清晰的视觉反馈。这种设计既保证了信息的可读性，又增强了用户交互体验。

**Section sources**
- [style.css](file://src/style.css#L135-L162)

## 渲染块(.rendered-block)及其子类型样式

渲染块(.rendered-block)是应用的核心UI组件，用于展示解析后的日志内容。它采用圆角边框(`border-radius: 8px`)和溢出隐藏(`overflow: hidden`)来创建现代感的卡片式设计。每个渲染块都应用了`--shadow-sm`阴影，以在视觉上与背景分离。

该组件通过BEM命名规范的修饰符类(.rendered-block--sql, .rendered-block--json等)来区分不同类型的日志内容。每种子类型都有独特的视觉特征：
- **SQL块**：使用绿色渐变背景(`--block-sql-bg`)和绿色边框
- **JSON块**：使用蓝色渐变背景(`--block-json-bg`)和蓝色边框
- **错误块**：使用红色渐变背景(`--block-error-bg`)和红色边框
- **警告块**：使用黄色渐变背景(`--block-warning-bg`)和黄色边框

交互方面，当鼠标悬停时，渲染块会轻微上移(`transform: translateY(-1px)`)并增强阴影效果(`--shadow-md`)，创造出"浮起"的视觉效果，增强了组件的层次感和可点击性。

**Section sources**
- [style.css](file://src/style.css#L168-L206)

## 块头部(.block-header)样式

块头部(.block-header)位于渲染块的顶部，作为标题和操作的容器。它采用`display: flex`的弹性布局，将标题(.block-title)和操作区域(.block-actions)水平排列。底部有一条1px的分割线(`border-bottom: 1px solid var(--border-primary)`)，用于视觉分隔。

.block-title类使用`gap: 8px`在图标和文本之间创建适当的间距，确保视觉上的平衡。.block-actions类同样使用弹性布局，为操作按钮提供水平排列的空间。整个头部区域使用`--bg-secondary`背景色，与渲染块的主体内容形成对比，突出了其作为导航和控制区域的功能。

**Section sources**
- [style.css](file://src/style.css#L212-L230)

## 操作按钮(.copy-btn)样式

操作按钮(.copy-btn)是用户与应用交互的关键元素，主要用于复制功能。它采用扁平化设计，具有圆角边框(`border-radius: 4px`)和无边框(`border: none`)的特点。按钮的背景色由`--color-primary`变量定义，文字颜色为`--text-inverse`，确保了良好的对比度。

该按钮的交互反馈设计非常精细：
- **悬停状态**：背景色变为`--color-primary-hover`，并轻微放大(`transform: scale(1.05)`)
- **激活状态**：按钮轻微缩小(`transform: scale(0.95)`)，模拟物理按钮被按下的效果

这些微交互通过`transition: all 0.2s ease`实现平滑过渡，为用户提供了即时的视觉反馈，增强了操作的确定性。

**Section sources**
- [style.css](file://src/style.css#L235-L251)

## 组件间设计一致性原则

整个UI系统遵循严格的设计一致性原则。所有组件都基于同一套CSS变量系统，确保了颜色、间距、阴影等视觉元素的统一性。例如，`--border-primary`、`--text-primary`等变量在所有组件中被重复使用，创建了和谐的视觉语言。

视觉层次通过阴影和变换效果来构建。基础组件如日志行只有轻微的悬停效果，而更高级的组件如渲染块则有更明显的"浮起"效果。这种层次化的交互设计引导用户关注更重要的内容区域。

此外，所有交互元素都应用了`transition: all 0.2s ease`的统一过渡时间，确保了整个应用的动画节奏一致，提供了流畅的用户体验。

**Section sources**
- [style.css](file://src/style.css#L1-L319)

## BEM命名规范应用

样式系统严格遵循BEM（Block, Element, Modifier）命名规范，这在类名中清晰可见：
- **Block（块）**：独立的组件，如`.log-line`、`.rendered-block`
- **Element（元素）**：块的组成部分，如`.block-header`、`.block-title`、`.copy-btn`
- **Modifier（修饰符）**：块或元素的状态或变体，如`.rendered-block.sql`、`.log-line.error`

这种命名方式清晰地表达了组件的结构和关系。例如，`.rendered-block.sql`明确表示"渲染块"这个块的"SQL"变体。这种语义化的命名不仅提高了代码的可读性，还减少了样式冲突的可能性，因为每个类名都是唯一的。

**Section sources**
- [style.css](file://src/style.css#L135-L251)

## 样式与JavaScript逻辑协作

样式系统与JavaScript逻辑紧密协作，通过动态添加CSS类来触发视觉变化。例如，当JavaScript检测到一条错误日志时，会向对应的日志行元素添加`error`类，从而激活`.log-line.error`的样式规则，改变其边框颜色和背景色。

在`main.js`文件中，`renderBlock`方法根据日志类型动态生成相应的CSS类名。`getBlockClass`函数将日志类型（如'Sql'、'Json'）映射为对应的修饰符类（'sql'、'json'），实现了样式与数据的动态绑定。

复制按钮的交互也体现了这种协作。当用户点击复制按钮时，`copyToClipboard`方法会被调用，成功后会触发`showToast`方法显示一个临时的成功提示，这涉及到多个组件的样式状态变化，展示了JavaScript如何协调不同UI元素的视觉反馈。

**Section sources**
- [main.js](file://src/main.js#L1120-L1170)
- [style.css](file://src/style.css#L135-L251)